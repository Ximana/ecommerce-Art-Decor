{% extends 'administracao/base.html' %}
{% load static %}

{% block title %}Editar Método de Pagamento - PulmoVision{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Cabeçalho -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="text-success mb-0">
                <i class="fas fa-edit me-2"></i>Editar Método de Pagamento
            </h2>
            <p class="text-muted">Atualize as informações do método de pagamento</p>
        </div>
        <a href="{% url 'administracao:metodo_pagamento_lista' %}" class="btn btn-outline-secondary">
            <i class="fas fa-arrow-left me-2"></i>Voltar para Lista
        </a>
    </div>

    <!-- Formulário de Edição -->
    <div class="card shadow-sm">
        <div class="card-body">
            <form class="row" method="POST">
                {% csrf_token %}
                
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label for="nome">Nome do Método</label>
                        <input
                            type="text"
                            class="form-control {% if form.nome.errors %}is-invalid{% endif %}"
                            id="nome"
                            name="nome"
                            value="{{ form.nome.value|default:'' }}"
                            required
                        />
                        {% if form.nome.errors %}
                            <div class="invalid-feedback">{{ form.nome.errors|first }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group mb-3">
                        <label for="taxa">Taxa (%)</label>
                        <input
                            type="number"
                            step="0.01"
                            class="form-control {% if form.taxa.errors %}is-invalid{% endif %}"
                            id="taxa"
                            name="taxa"
                            value="{{ form.taxa.value|default:'0.00' }}"
                        />
                        {% if form.taxa.errors %}
                            <div class="invalid-feedback">{{ form.taxa.errors|first }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="form-group mb-3">
                        <label for="prazo_processamento">Prazo de Processamento (dias)</label>
                        <input
                            type="number"
                            class="form-control {% if form.prazo_processamento.errors %}is-invalid{% endif %}"
                            id="prazo_processamento"
                            name="prazo_processamento"
                            value="{{ form.prazo_processamento.value|default:'0' }}"
                        />
                        {% if form.prazo_processamento.errors %}
                            <div class="invalid-feedback">{{ form.prazo_processamento.errors|first }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group mb-3">
                        <div class="form-check">
                            <input 
                                type="checkbox" 
                                class="form-check-input {% if form.status.errors %}is-invalid{% endif %}"
                                id="status" 
                                name="status"
                                {% if form.status.value %}checked{% endif %}
                            >
                            <label class="form-check-label" for="status">Método Ativo</label>
                            {% if form.status.errors %}
                                <div class="invalid-feedback">{{ form.status.errors|first }}</div>
                            {% endif %}
                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="form-group mb-3">
                        <label for="descricao">Descrição</label>
                        <textarea
                            class="form-control {% if form.descricao.errors %}is-invalid{% endif %}"
                            id="descricao"
                            name="descricao"
                            rows="3"
                        >{{ form.descricao.value|default:'' }}</textarea>
                        {% if form.descricao.errors %}
                            <div class="invalid-feedback">{{ form.descricao.errors|first }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="col-12 mt-3">
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save me-2"></i>Salvar Alterações
                    </button>
                    <a href="{% url 'administracao:metodo_pagamento_lista' %}" class="btn btn-outline-secondary ms-2">
                        Cancelar
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}